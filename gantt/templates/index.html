{% load static %}
<!DOCTYPE html>

<html lang="en" prefix="og: https://ogp.me/ns#">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!-- <script src="https://unpkg.com/@tailwindcss/browser@4"></script> -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'images/site.webmanifest' %}">

    <meta name="description" content="Maîtrisez vos projets avec un diagramme de GANTT" />
    <meta property="og:description" content="Maîtrisez vos projets avec un diagramme de GANTT" />
    <meta property="og:image" content="{% static 'images/thumbs.jpg' %}" />
    <meta property="og:image:secure_url" content="{% static 'images/thumbs.jpg' %}" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="400" />
    <meta property="og:image:height" content="300" />
    <meta property="og:image:alt" content="gantt" />
    <meta property="og:title" content="gantt" />

    <meta property="og:title" content="Draw your gantt diagram" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gantt.kndbvortex.cloud" />
    <meta property="og:image:url" content="{% static 'images/thumbs.jpg' %}" />
    <meta property="og:description" content="Maîtrisez vos projets avec un diagramme de GANTT" />



    <title>build gantt</title>
</head>

<body>
    <section class="bg-white container">
        <header
            class="flex flex-wrap sm:justify-start sm:flex-nowrap z-50 w-full bg-white text-sm sm:py-0 items-center">
            <nav class="flex max-w-[85rem] w-full mx-auto px-4 sm:flex sm:items-center sm:justify-between sm:px-6 lg:px-8 items-center"
                aria-label="Global">
                <div class="flex items-center justify-between">
                    <a href="https://tailflows.com/" class="flex items-center space-x-3 rtl:space-x-reverse">
                        <div class="flex flex-row items-center gap-1 mr-3">
                            <img class="light-shadow" src="{% static 'images/linux-svgrepo-com.svg' %}" alt="logo"
                                width="30">
                            <span class="text-base select-none">MlDev</span>
                        </div>
                    </a>
                    <div class="sm:hidden">
                        <button type="button"
                            class="hs-collapse-toggle w-9 h-9 flex justify-center items-center text-sm font-semibold rounded-lg border border-gray-200 text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"
                            data-hs-collapse="#navbar-collapse-with-animation"
                            aria-controls="navbar-collapse-with-animation" aria-label="Toggle navigation">
                            <svg class="hs-collapse-open:hidden w-4 h-4" width="16" height="16" fill="currentColor"
                                viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                            </svg>
                            <svg class="hs-collapse-open:block flex-shrink-0 hidden w-4 h-4" width="16" height="16"
                                fill="currentColor" viewBox="0 0 16 16">
                                <path
                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="navbar-collapse-with-animation"
                    class="hs-collapse hidden overflow-hidden transition-all duration-300 basis-full grow sm:block">
                    <div
                        class="flex flex-col gap-y-4 gap-x-0 mt-5 sm:flex-row sm:items-center sm:justify-end sm:gap-y-0 sm:gap-x-7 sm:mt-0 sm:ps-7">
                        <a class="font-medium text-gray-500 hover:text-gray-400 sm:py-3 dark:text-gray-400 dark:hover:text-gray-500"
                            href="#presentation">Description</a>
                        <a class="flex items-center gap-x-2 font-medium text-gray-500 hover:text-blue-600 sm:border-s sm:border-gray-300 sm:my-6 sm:ps-6 dark:border-gray-700 dark:text-gray-400 dark:hover:text-blue-500"
                            href="#contact">
                            <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                fill="currentColor" viewBox="0 0 16 16">
                                <path
                                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                            </svg>
                            Contact
                        </a>
                    </div>
                </div>
            </nav>
        </header>
        <!-- Hero -->
        <div class="relative">
            <div class="absolute text-red-600 w-full h-full z-0 hero-pattern top-0"></div>
            <!-- Grid -->
            <div
                class="px-4 sm:px-6 lg:px-8 py-8 md:py-16 lg:py-32 bg-gradient-to-b from-transparent to-white to-[50%] relative z-1">
                <div
                    class="grid md:grid-cols-2 gap-4 md:gap-8 xl:gap-20 md:items-center max-w-[85rem] mx-auto relative overflow-hidden">
                    <div class="space-y-4">
                        <h1 class="block text-3xl font-bold text-gray-800 sm:text-4xl lg:text-4xl lg:leading-tight">
                            Maîtrisez vos projets avec un diagramme de <span class="text-red-400">GANTT</span>
                        </h1>
                        <p class="my-4 text-md text-gray-800 dark:text-gray-400">
                            Visualisez vos tâches, respectez vos délais et atteignez vos objectifs
                        </p>

                        <a href="#main-content">
                            <button
                                class="bg-red-400  text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hover:bg-black transition duration-300 ease-in-out hover:cursor-pointer">

                                Commencer
                            </button>
                        </a>



                    </div>
                    <!-- End Col -->

                    <div class="relative ms-4">
                        <div class="px-4 text-red-600">
                            <img src="{% static 'images/7230633_3594608.svg' %}" class="light-shadow" />
                        </div>

                        <!-- End SVG-->
                    </div>
                    <!-- End Col -->
                </div>
            </div>
            <!-- End Grid -->
        </div>
        <!-- End Hero -->
    </section>

    <main class="containter mx-5 md:mx-10">
        <section class="presentation container" id="presentation">
            <h1 class="block text-4xl font-bold text-red-400 sm:text-4xl lg:text-4xl lg:leading-tight m-5">C'est quoi un
                diagramme de GANTT?</h1>
            <div class="text-justify">
                <p>Le diagramme de <strong>Gantt</strong>, couramment utilisé en gestion de
                    projet, est l'un des
                    outils les plus
                    efficaces
                    pour
                    représenter visuellement l'état d'avancement des différentes activités (tâches) qui constituent un
                    projet.
                    La colonne de gauche du diagramme énumère toutes les tâches à effectuer, tandis que la ligne
                    d'en-tête
                    représente les unités de temps les plus adaptées au projet (jours, semaines, mois etc.). Chaque
                    tâche
                    est
                    matérialisée par une barre horizontale, dont la position et la longueur représentent la date de
                    début,
                    la
                    durée et la date de fin. Ce diagramme permet donc d'identifier rapidement: la date de début et la
                    date de fin de chaque tâche,
                    la durée escomptée de chaque tâche, le chevauchement éventuel des tâches, et la durée de ce
                    chevauchement
                    La date de début et la date de fin du projet dans son ensemble.</p>
                <!-- <div class="image"></div> -->

            </div>

        </section>

        <section class="presentation my-3 container">
            <div class="grid md:grid-cols-2 md:gap-20">
                <div>
                    <h1 class="block text-4xl font-bold text-red-400 sm:text-4xl lg:text-4xl lg:leading-tight m-5">Créer
                        votre diagramme de GANTT</h1>
                    <div class="text-justify">
                        <p>Le fichier excel à importer devra contenir 4 colonnes: la
                            première le code de la tâche, la deuxième
                            le libele de la tâche, la troisième la durée de chaque tâche et la dernière les précédences
                            de
                            chacune des tâches. De la même façon que vous pouvez le voir ci-dessous</p>
                        <a href="{% static 'modele_gantt.xlsx' %}">
                            <button
                                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mt-4">
                                <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20">
                                    <path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z" />
                                </svg>
                                <span>Telecharger le modèle excel</span>
                            </button>
                        </a>
                        {% comment %} <img src="{% static 'images/example-file.png' %}" width="100%" /> {% endcomment %}
                    </div>
                </div>
                <div class="w-10/12" id="main-content">
                    <div class="uploader">
                        <form method="post" action="#result" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="file-upload pt-5">
                                <label for="unit">Unité de la durée d'une tâche</label>
                                <select class="form-select mb-3 border-2 border-solid" name="unit">
                                    <option value="1">Jour</option>
                                    <option value="2">Mois</option>
                                    <option value="3">Année</option>
                                </select> <br />
                                <label for="start">Date de début:</label> <br />

                                <input
                                    class="w-full text-sm text-gray-900 border border-gray-300 rounded cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 p-2"
                                    type="date" id="start" name="date">
                            </div>

                            <script class="jsbin"
                                src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
                            <div class="file-upload">

                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white "
                                    for="file_input">Upload file</label>
                                <input
                                    class="block w-full text-sm text-gray-900 border border-gray-300 rounded cursor-pointer bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"
                                    aria-describedby="file_input_help" id="file_input" type="file"
                                    accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                                    name='tasks' required>
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-300" id="file_input_help">XLSX file.
                                </p>

                                <button type="submit"
                                    class="py-2.5 px-3 me-2 my-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:text-white hover:bg-red-400">Générer</button>

                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </section>
        {% if print_diagram %}
        <section class="text-danger h1" id="result">
            {{ message }}
            <span class="text-dark">Pour plus de détail bien vouloir consulter le diagramme et le tableau
                ci-après</span>
        </section>
        <canvas id="myChart" width="400" height="400"></canvas>
        <table class="table table-striped caption-top">
            <caption>Récapitulatif</caption>
            <thead>
                <tr>
                    <th scope="col">tache</th>
                    <th scope="col">Date de début</th>
                    <th scope="col">Date de fin</th>
                </tr>
            </thead>
            <tbody>
                {% for label, debut, fin in intervales_date %}
                <tr>
                    <td>{{ label }}</td>
                    <td>{{ debut }}</td>
                    <td>{{ fin }}</td>
                </tr>

                {% endfor %}

            </tbody>
        </table>
        {% endif %}


    </main>
    <footer class="flex flex-col justify-center text-center text-secondary border-solid border-2 border-t-red-400 mt-5"
        id="contact">
        <div class="px-6 pt-6">
            <div class="mb-2 flex justify-center align-middle">

                <a href="https://twitter.com/DurandeKamga_" type="button"
                    class="m-1 h-9 w-9 rounded-full border-2 border-red-400 uppercase leading-normal text-red-400 transition duration-150 ease-in-out hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0"
                    data-te-ripple-init data-te-ripple-color="light">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-full w-4" fill="currentColor"
                        viewBox="0 0 24 24">
                        <path
                            d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
                    </svg>
                </a>


                <a href="https://www.linkedin.com/in/durande-kamga-3660bb202/" type="button"
                    class="m-1 h-9 w-9 rounded-full border-2 border-red-400 uppercase leading-normal text-red-400 transition duration-150 ease-in-out hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0"
                    data-te-ripple-init data-te-ripple-color="light">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-full w-4" fill="currentColor"
                        viewBox="0 0 24 24">
                        <path
                            d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z" />
                    </svg>
                </a>

                <a href="https://github.com/kndbvortex/" type="button"
                    class="m-1 h-9 w-9 rounded-full border-2 border-red-400 uppercase leading-normal text-red-400 transition duration-150 ease-in-out hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0"
                    data-te-ripple-init data-te-ripple-color="light">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-full w-4" fill="currentColor"
                        viewBox="0 0 24 24">
                        <path
                            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                    </svg>
                </a>
            </div>
        </div>

        <!--Copyright section-->
        <div class="p-4 text-center">
            © 2025 Copyright:
            <a class="text-whitehite" href="">ML Dev</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.8.2/dist/chart.min.js"
        integrity="sha256-srZ7wC4CLlY0F9UFji68dTwYJQ5o93Quq2+iyQ4gH/I=" crossorigin="anonymous"></script>
    <script>
        {% comment %} console.log({{ intervales| safe}}.map((e) => [new Date(e[0]), new Date(e[1])])) {% endcomment %}
        {% if print_diagram %}
        const data = {
            labels: {{ labels| safe}},
        datasets: [
            {
                label: 'Chemin critique',
                data: {{ intervales| safe}},
            backgroundColor: {{ couleurs| safe}},
                    },

        ]
            };
        const config = {
            type: 'bar',
            data: data,
            options: {
                indexAxis: 'y',
                // Elements options apply to all of the options unless overridden in a dataset
                // In this case, we are setting the border of each horizontal bar to be 2px wide
                elements: {
                    bar: {
                        borderWidth: 2,
                    }
                },
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                    },
                    title: {
                        display: true,
                        text: 'Diagramme de Gantt'
                    }
                }
            },
        };
        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
        {% endif %}

    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/datepicker.min.js"></script>
</body>

</html>